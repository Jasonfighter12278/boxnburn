<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Box N Burn — Next Gen</title>
  <meta name="description" content="Box N Burn: Bokstraining, spinning en yoga. Boek lessen, beheer abonnementen en bekijk onze kalender." />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#94a3b8; --accent:#ff6b6b; --accent-2:#06b6d4; --glass:rgba(255,255,255,0.03);
      --radius:14px; --max-w:1200px; --transition:250ms cubic-bezier(.2,.9,.3,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Roboto,system-ui,Arial; background:linear-gradient(135deg,#071021 0%,#071833 60%); color:#e6eef8; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:inherit}
    .container{max-width:var(--max-w);margin:110px auto 60px;padding:24px}

    /* Header */
    header{position:fixed;inset:0 0 auto 0;height:78px;display:flex;align-items:center;justify-content:space-between;padding:12px 24px;backdrop-filter:blur(6px);background:linear-gradient(180deg,rgba(6,10,17,0.55),rgba(6,10,17,0.3));border-bottom:1px solid rgba(255,255,255,0.03);z-index:1200}
    .brand{display:flex;gap:12px;align-items:center}
    .brand img{width:48px;height:48px;border-radius:10px;object-fit:cover}
    .brand .title{font-weight:700;font-size:18px;color:var(--accent)}
    nav{display:flex;gap:8px}
    .nav-links{display:flex;gap:6px;align-items:center}
    .nav-links a{padding:8px 12px;border-radius:10px;font-weight:500;color:var(--muted);text-decoration:none}
    .nav-links a.active, .nav-links a:hover{background:var(--glass);color:#fff}
    .actions{display:flex;gap:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;font-weight:700;cursor:pointer;border:0}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021022}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* Mobile menu */
    .hamburger{display:none;border:0;background:transparent;color:var(--muted);font-size:20px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:center;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:28px;border-radius:18px;border:1px solid rgba(255,255,255,0.02)}
    .hero-left h1{font-size:36px;margin:0 0 10px;color:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .kicker{display:inline-block;background:rgba(255,255,255,0.04);padding:6px 10px;border-radius:999px;font-weight:700;color:var(--muted);margin-bottom:12px}
    .hero p{color:var(--muted);margin-bottom:18px}
    .hero .cta{display:flex;gap:12px;flex-wrap:wrap}

    /* Cards grid */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:22px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.03)}
    .card h3{margin:0 0 8px}
    .small{font-size:13px;color:var(--muted)}

    /* Schedule */
    .schedule{margin-top:22px}
    .schedule-table{width:100%;border-collapse:collapse}
    .schedule-table th, .schedule-table td{padding:12px 10px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .tag{padding:6px 8px;border-radius:999px;font-weight:700;background:rgba(255,255,255,0.02);display:inline-block}

    /* Instructors */
    .instructors{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:18px}
    .instructor{display:flex;gap:12px;align-items:center}
    .instructor img{width:76px;height:76px;border-radius:12px;object-fit:cover}

    /* Subscriptions */
    .plans{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:12px}
    .plan{padding:18px;border-radius:12px;text-align:center}
    .plan .price{font-size:20px;font-weight:800;margin-top:8px}

    /* Contact */
    .contact{margin-top:18px}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    input,textarea,select{width:100%;padding:10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:#e6eef8}
    textarea{min-height:120px}

    /* Footer */
    footer{margin-top:28px;text-align:center;color:var(--muted);padding:28px}

    /* Responsive */
    @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}; .hero{grid-template-columns:1fr} }
    @media (max-width:760px){
      header{padding:8px 12px}
      .hamburger{display:inline-flex}
      nav{display:none}
      .container{margin-top:96px;padding:12px}
      .grid,.instructors,.plans{grid-template-columns:1fr}
      .hero{padding:18px}
    }

    /* small helpers */
    .muted{color:var(--muted)}
    .center{display:flex;justify-content:center;align-items:center}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:2000}
    .modal{background:linear-gradient(180deg,#071226,#081426);padding:18px;border-radius:12px;max-width:520px;width:100%;box-shadow:0 20px 40px rgba(2,6,23,0.7)}
    .modal.show{display:flex}

    /* tiny microinteractions */
    .click{transition:transform var(--transition)}
    .click:active{transform:scale(.98)}
  </style>
</head>
<body>
  <header role="banner">
    <div class="brand">
      <img src="https://i.ibb.co/bj5mBF0t/Box-N-Burn-Algemeen.png" alt="Box N Burn logo">
      <div>
        <div class="title">Box N Burn</div>
        <div class="small muted">Amsterdam — Nieuwe lessen elke week</div>
      </div>
    </div>
    <nav aria-label="Hoofd navigatie">
      <div class="nav-links" role="navigation">
        <a href="#home" data-page="home" class="active">Home</a>
        <a href="#lessen" data-page="lessen">Lessen</a>
        <a href="#instructeurs" data-page="instructeurs">Instructeurs</a>
        <a href="#abonnementen" data-page="abonnementen">Abonnementen</a>
        <a href="#contact" data-page="contact">Contact</a>
      </div>
    </nav>
    <div class="actions">
      <button class="btn ghost" id="open-calendar">Kalender</button>
      <button class="btn primary" id="open-book">Boek Nu</button>
      <button class="hamburger" id="mobile-toggle" aria-expanded="false">☰</button>
    </div>
  </header>

  <main class="container" id="app">
    <!-- HERO -->
    <section class="hero" id="home">
      <div class="hero-left">
        <span class="kicker">Word sterker. Voel je beter.</span>
        <h1>Ontdek jouw Energie & Kracht — Box N Burn</h1>
        <p>Mix van bokstraining, spinning en yoga — voor beginners en gevorderden. Boek snel, bekijk instructeurs en kies een abonnement.</p>
        <div class="cta">
          <button class="btn primary" id="cta-book">Boek een proefles</button>
          <a href="#abonnementen" class="btn ghost">Bekijk abonnementen</a>
        </div>
        <div class="grid" style="margin-top:18px">
          <div class="card">
            <h3>Live planning</h3>
            <div class="small muted">Realtime beschikbaarheid & reminders</div>
            <div style="margin-top:12px">
              <strong id="next-class">Geen data geladen</strong>
              <div class="small muted">Volgende les</div>
            </div>
          </div>
          <div class="card">
            <h3>Proefles</h3>
            <div class="small muted">€10 — direct online boeken</div>
            <div style="margin-top:12px"><button class="btn primary" onclick="openBook({type:'proefles'})">Boek proefles</button></div>
          </div>
          <div class="card">
            <h3>Nieuws & Meldingen</h3>
            <div class="small muted" id="news">Geen nieuwe meldingen</div>
          </div>
        </div>
      </div>
      <aside style="padding:12px">
        <div class="card">
          <h3>Vandaag</h3>
          <div class="small muted" id="today-date"></div>
          <div style="margin-top:10px">
            <div id="today-schedule">Laden…</div>
          </div>
        </div>
        <div class="card" style="margin-top:12px">
          <h3>Zo vind je ons</h3>
          <div class="small muted">Adres: Keizersgracht 123, Amsterdam</div>
          <div style="margin-top:12px"><a class="btn ghost" href="https://maps.google.com" target="_blank" rel="noopener">Open in Maps</a></div>
        </div>
      </aside>
    </section>

    <!-- LESSONS -->
    <section id="lessen">
      <h2>Lessen & Agenda</h2>
      <p class="muted">Klik op een les om te boeken of een herinnering te downloaden.</p>
      <div class="schedule">
        <table class="schedule-table" aria-live="polite">
          <thead>
            <tr><th>Dag & Tijd</th><th>Les</th><th>Trainer</th><th>Beschikbaar</th><th></th></tr>
          </thead>
          <tbody id="schedule-body">
            <!-- rows injected by JS -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- INSTRUCTORS -->
    <section id="instructeurs">
      <h2>Onze Instructeurs</h2>
      <div class="instructors" id="instructors-list">
        <!-- injected -->
      </div>
    </section>

    <!-- PLANS -->
    <section id="abonnementen">
      <h2>Abonnementen</h2>
      <p class="muted">Transparante prijzen. Betaal lokaal of online (placeholder).</p>
      <div class="plans" id="plans-list">
        <!-- injected -->
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <h2>Neem contact op</h2>
      <form id="contact-form" class="contact" action="https://formspree.io/f/mdklyleo" method="POST">
        <div class="form-row">
          <input name="name" placeholder="Je naam" required>
          <input name="email" type="email" placeholder="E-mail" required>
        </div>
        <div class="form-row" style="margin-top:8px">
          <input name="phone" placeholder="Telefoon">
          <select name="plan">
            <option value="">Kies een plan (optioneel)</option>
            <option value="proefles">Proefles</option>
            <option value="maand">Maand</option>
            <option value="jaar">Jaar</option>
          </select>
        </div>
        <div style="margin-top:8px">
          <textarea name="message" placeholder="Je bericht" required></textarea>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px">
          <button type="submit" class="btn primary">Verstuur bericht</button>
          <button type="button" class="btn ghost" id="save-local">Sla op (voorbeeld)</button>
        </div>
        <div class="muted" style="margin-top:8px">Alle betalingen gebeuren ter plaatse of via Payconiq / iDEAL. (Online betalingen demo)</div>
      </form>
    </section>

    <footer>
      <div>&copy; 2025 Box N Burn — Alle rechten voorbehouden</div>
      <div class="muted">Gemaakt met ❤️ — versie v2</div>
    </footer>
  </main>

  <!-- Modal booking -->
  <div class="modal-backdrop" id="modal">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Boek les">
      <div id="modal-content">
        <!-- injected -->
      </div>
      <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
        <button class="btn ghost" id="modal-cancel">Annuleer</button>
        <button class="btn primary" id="modal-confirm">Bevestig boeking</button>
      </div>
    </div>
  </div>

  <script>
    /* --- Sample data --- */
    const SCHEDULE = [
      {id:1, day:'Maandag', time:'18:00 - 19:00', class:'Bokstraining', trainer:'John Doe', spots:12},
      {id:2, day:'Dinsdag', time:'19:00 - 20:00', class:'Spinning', trainer:'Jane Doe', spots:8},
      {id:3, day:'Woensdag', time:'08:00 - 09:00', class:'Yoga', trainer:'Emily Smith', spots:6},
      {id:4, day:'Donderdag', time:'18:00 - 19:00', class:'Bokstraining', trainer:'John Doe', spots:12},
      {id:5, day:'Vrijdag', time:'19:00 - 20:00', class:'Spinning', trainer:'Jane Doe', spots:8},
      {id:6, day:'Zaterdag', time:'10:00 - 11:00', class:'Yoga', trainer:'Emily Smith', spots:6}
    ];

    const INSTRUCTORS = [
      {name:'John Doe', role:'Bokstraining Expert', bio:'Expert in techniek en conditie. Geschikt voor alle niveaus.', img:'https://images.unsplash.com/photo-1603415526960-f7e0328c8b20?auto=format&fit=crop&w=400&q=60'},
      {name:'Jane Doe', role:'Spinning Specialist', bio:'Energieke lessen met sterke coaching en playlists.', img:'https://images.unsplash.com/photo-1543899341-2b3f5c4f6bde?auto=format&fit=crop&w=400&q=60'},
      {name:'Emily Smith', role:'Yoga Guru', bio:'Balans, flexibiliteit en mindfulness voor iedereen.', img:'https://images.unsplash.com/photo-1554366754-36755b6c27d7?auto=format&fit=crop&w=400&q=60'}
    ];

    const PLANS = [
      {id:'trial', title:'Proef Les', desc:'1 les naar keuze', price:10, period:'eenmalig'},
      {id:'monthly', title:'Maand Abonnement', desc:'3x per week onbeperkt toegang tot geselecteerde lessen', price:40, period:'maand'},
      {id:'yearly', title:'Jaar Abonnement', desc:'Onbeperkt + 2 gratis privétrainingen', price:480, period:'jaar'}
    ];

    /* --- Utilities --- */
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    function formatDate(d=new Date()){return d.toLocaleDateString('nl-NL',{weekday:'long',day:'numeric',month:'short'})}

    /* --- Init UI --- */
    function renderSchedule(){
      const tbody = $('#schedule-body'); tbody.innerHTML='';
      SCHEDULE.forEach(item=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td><strong>${item.day} — ${item.time}</strong></td>
          <td>${item.class}</td>
          <td>${item.trainer}</td>
          <td><span class="tag">${item.spots} plekken</span></td>
          <td style="text-align:right"><button class="btn primary click" data-book='${item.id}'>Boek</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderInstructors(){
      const wrap = $('#instructors-list'); wrap.innerHTML='';
      INSTRUCTORS.forEach(i=>{
        const div = document.createElement('div'); div.className='instructor card';
        div.innerHTML = `
          <img loading="lazy" src="${i.img}" alt="${i.name}">
          <div>
            <div style="font-weight:800">${i.name}</div>
            <div class="small muted">${i.role}</div>
            <div class="small" style="margin-top:6px">${i.bio}</div>
          </div>
        `;
        wrap.appendChild(div);
      });
    }

    function renderPlans(){
      const wrap = $('#plans-list'); wrap.innerHTML='';
      PLANS.forEach(p=>{
        const div = document.createElement('div'); div.className='plan card';
        div.innerHTML = `
          <h3>${p.title}</h3>
          <div class="small muted">${p.desc}</div>
          <div class="price">€${p.price}${p.period!=='eenmalig'? ' / '+p.period:''}</div>
          <div style="margin-top:10px"><button class="btn primary" data-plan='${p.id}'>Kies</button></div>
        `;
        wrap.appendChild(div);
      });
    }

    /* --- Booking modal --- */
    const modal = $('#modal');
    const modalContent = $('#modal-content');
    let activeBooking = null;

    function openBook(opts={}){
      if(opts.type==='proefles'){
        modalContent.innerHTML = `
          <h3>Boek Proefles</h3>
          <p class="muted">Kies datum en gegevens om je proefles te reserveren.</p>
          <label style="display:block;margin-top:8px">Naam<input id="bk-name"></label>
          <label style="display:block;margin-top:8px">E-mail<input id="bk-email" type="email"></label>
          <label style="display:block;margin-top:8px">Kies les<select id="bk-class">${SCHEDULE.map(s=>`<option value='${s.id}'>${s.day} • ${s.time} — ${s.class}</option>`).join('')}</select></label>
        `;
        activeBooking = {type:'proefles'};
        showModal();
        return;
      }
      const id = opts.id || null;
      const item = SCHEDULE.find(s=>s.id===id);
      if(!item){alert('Les niet gevonden');return}
      modalContent.innerHTML = `
        <h3>Boek: ${item.class}</h3>
        <div class="muted">${item.day} — ${item.time} — ${item.trainer}</div>
        <label style="display:block;margin-top:8px">Je naam<input id="bk-name"></label>
        <label style="display:block;margin-top:8px">E-mail<input id="bk-email" type="email"></label>
        <label style="display:block;margin-top:8px">Aantal plekken<select id="bk-qty">${[1,2,3].map(n=>`<option>${n}</option>`).join('')}</select></label>
      `;
      activeBooking = {type:'class', id:item.id};
      showModal();
    }

    function showModal(){ modal.style.display='flex'; document.body.style.overflow='hidden'; }
    function closeModal(){ modal.style.display='none'; document.body.style.overflow='auto'; activeBooking=null }

    $('#modal-cancel').addEventListener('click', closeModal);
    $('#modal-confirm').addEventListener('click', ()=>{
      if(!activeBooking){closeModal();return}
      const name = $('#bk-name')?.value || 'Onbekend';
      const email = $('#bk-email')?.value || '';
      if(!email){alert('Geef een geldig e-mailadres');return}
      if(activeBooking.type==='proefles'){
        const classId = Number($('#bk-class').value);
        const item = SCHEDULE.find(s=>s.id===classId);
        if(item.spots<=0){alert('Geen plekken meer');closeModal();return}
        item.spots -=1; renderSchedule(); alert(`Dank! Proefles geboekt voor ${name} (${email})`);
        closeModal(); return;
      }
      const qty = Number($('#bk-qty').value||1);
      const item = SCHEDULE.find(s=>s.id===activeBooking.id);
      if(item.spots < qty){alert('Niet genoeg plekken beschikbaar');return}
      item.spots -= qty; renderSchedule(); closeModal(); alert('Boeking bevestigd — je ontvangt een e-mail (demo).');
    });

    /* --- Event delegation for booking buttons --- */
    document.addEventListener('click', e=>{
      const bookBtn = e.target.closest('[data-book]');
      if(bookBtn){ const id = Number(bookBtn.getAttribute('data-book')); openBook({id}); }
      const planBtn = e.target.closest('[data-plan]');
      if(planBtn){ const id = planBtn.getAttribute('data-plan'); alert('Plan gekozen: '+id+' (betaalstroom demo)'); }
      const chooseBook = e.target.closest('#cta-book, #open-book'); if(chooseBook){ openBook({type:'proefles'}) }
    });

    /* --- Simple SPA nav behavior --- */
    $$('.nav-links a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault(); const target = a.getAttribute('data-page'); history.pushState({page:target},'',`#${target}`); showPage(target);
      });
    });

    function showPage(page){ $$('.nav-links a').forEach(x=>x.classList.remove('active')); $$('.nav-links a').find(a=>a.getAttribute('data-page')===page)?.classList.add('active');
      $$('#app > section').forEach(s=>s.style.display = s.id===page? 'block':'none'); window.scrollTo({top:0,behavior:'smooth'});
    }

    window.addEventListener('popstate', ()=>{ const page = location.hash.replace('#','') || 'home'; showPage(page); });

    /* --- Mobile toggle --- */
    $('#mobile-toggle').addEventListener('click', ()=>{
      const nav = document.querySelector('nav'); const expanded = nav.style.display === 'block'; nav.style.display = expanded? '':'block'; $('#mobile-toggle').setAttribute('aria-expanded', !expanded);
    });

    /* --- Contact form handling (Formspree) --- */
    $('#contact-form').addEventListener('submit', e=>{
      e.preventDefault(); const form = e.target; fetch(form.action, {method:'POST',body:new FormData(form),headers:{'Accept':'application/json'}})
        .then(r=>{ if(r.ok){ alert('Bedankt! We nemen contact op.'); form.reset(); } else { r.json().then(j=>alert(j?.error||'Er ging iets mis')) }})
        .catch(()=>alert('Er ging iets mis bij versturen'));
    });

    /* --- small extras --- */
    document.getElementById('open-calendar').addEventListener('click', ()=>{
      const ics = generateICS(); const blob = new Blob([ics],{type:'text/calendar'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download='boxnburn_schedule.ics'; a.click(); URL.revokeObjectURL(url);
    });

    function generateICS(){
      let out = 'BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//BoxNBurn//NL\n';
      SCHEDULE.forEach(s=>{
        const dt = new Date(); const uid = 'bnv-'+s.id+'-'+Date.now(); out += `BEGIN:VEVENT\nUID:${uid}\nSUMMARY:${s.class} - ${s.trainer}\nDESCRIPTION:Boek via Box N Burn\nDTSTAMP:${formatICS(dt)}\nEND:VEVENT\n`;
      }); out += 'END:VCALENDAR'; return out;
    }
    function formatICS(d){return d.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z'}

    /* --- Today panel --- */
    function renderToday(){ $('#today-date').textContent = formatDate(); const today = new Date().getDay(); const map = {1:'Maandag',2:'Dinsdag',3:'Woensdag',4:'Donderdag',5:'Vrijdag',6:'Zaterdag',0:'Zondag'}; const dayName = map[today]; const todays = SCHEDULE.filter(s=>s.day===dayName); if(!todays.length){ $('#today-schedule').innerHTML='<div class="muted">Geen lessen vandaag</div>'; return } $('#today-schedule').innerHTML = todays.map(s=>`<div><strong>${s.class}</strong> — ${s.time} <span class="small muted">(${s.spots} plekken)</span></div>`).join(''); }

    /* --- Next class indicator --- */
    function renderNext(){ const next = SCHEDULE.find(s=>s.spots>0) || SCHEDULE[0]; $('#next-class').textContent = `${next.class} — ${next.day} ${next.time}` }

    /* --- News fetch (demo) --- */
    function fetchNews(){ // placeholder: in production call your CMS
      const msgs = ['Zomerrooster beschikbaar','Nieuwe spinning fietsen toegevoegd','Proefles korting deze week']; $('#news').textContent = msgs.join(' • ');
    }

    /* --- Local save for contact demo --- */
    $('#save-local').addEventListener('click', ()=>{
      const data = {savedAt: new Date().toISOString(), form: {name:document.querySelector('[name=name]').value}}; localStorage.setItem('bn_contact_sample', JSON.stringify(data)); alert('Form opgeslagen in localStorage (demo)');
    });

    /* --- Bootstrapping --- */
    function init(){ renderSchedule(); renderInstructors(); renderPlans(); renderToday(); renderNext(); fetchNews(); showPage(location.hash.replace('#','') || 'home'); }
    init();

    /* --- Accessibility: allow Esc to close modal --- */
    document.addEventListener('keydown', e=>{ if(e.key==='Escape'){ closeModal() } });

    /* --- Small analytics stub (privacy-friendly) --- */
    window._bn = window._bn || {events:[]}; function track(e){ window._bn.events.push({name:e,ts:Date.now()}); }
    ['click','submit'].forEach(ev=>document.addEventListener(ev, ()=>track(ev)));

    /* --- Service worker registration (optional offline) --- */
    if('serviceWorker' in navigator){ navigator.serviceWorker?.register('/sw.js').catch(()=>{/* ignore */}); }
  </script>
</body>
</html>
